import{G as y,S as L,V as f,P as x,O as M,W as k,D as R,a as S,T as I,R as z,b as P,c as O,E,d as w,M as D,e as b,C as T,f as N,g as A,h as j,i as G}from"./vendor.1ae0e2e6.js";const W=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerpolicy&&(o.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?o.credentials="include":a.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}};W();let l=null;class v{constructor(){if(l)return l;l=this,this.active=window.location.hash==="#debug",this.active&&(this.ui=new y({width:300}),this.stats=new L,this.stats.showPanel(0),document.body.appendChild(this.stats.dom))}begin(){this.stats&&this.stats.begin()}end(){this.stats&&this.stats.end()}}class d{constructor(){this.callbacks={}}on(e,t){typeof t=="function"&&(this.callbacks[e]=[...this.callbacks[e]||[],t])}emit(e,...t){(this.callbacks[e]||[]).forEach(i=>i(...t))}off(e,t){!this.callbacks[e]||(this.callbacks[e]=this.callbacks[e].filter(i=>i!==t))}}let u=null;class q extends d{constructor(){super();if(u)return u;u=this,this.setSizes(),window.addEventListener("resize",()=>{this.setSizes(),this.emit("resize")})}setSizes(){this.width=window.innerWidth,this.height=window.innerHeight,this.pixelRatio=Math.min(window.devicePixelRatio,2)}}class B extends d{constructor({autoStart:e=!0}={}){super();this.current=performance.now(),this.elapsed=0,this.delta=0,this.rafId=0,this.update=this.update.bind(this),e&&this.start()}start(){this.running||(this.running=!0,this.update())}stop(){!this.running||(window.cancelAnimationFrame(this.rafId),this.running=!1)}pause(){this.stop()}resume(){this.current=performance.now(),this.start()}update(){const e=performance.now();this.delta=(e-this.current)/1e3,this.current=e,this.elapsed+=this.delta,this.emit("update",this.elapsed,this.delta),this.rafId=window.requestAnimationFrame(this.update)}}class F{constructor({canvas:e,viewport:t,camera:i}={}){this.canvas=e,this.viewport=t,this.camera=i,this.mouse={x:0,y:0},this.easing=.036,this.handleMove=this.handleMove.bind(this),this.handleOut=this.handleOut.bind(this),this.canvas.addEventListener("pointermove",this.handleMove),this.canvas.addEventListener("pointerout",this.handleOut)}handleMove({clientX:e,clientY:t}){this.mouse.x=2*(2*(e/window.innerWidth)-1),this.mouse.y=2.5*(2*(-t/window.innerHeight)+1)}handleOut(){this.mouse.x=0,this.mouse.y=0}update(){this.camera.position.x+=(this.mouse.x-this.camera.position.x)*this.easing,this.camera.position.y+=(this.mouse.y-this.camera.position.y)*this.easing,this.camera.lookAt(new f(0,0,0))}}class V{constructor(){this.sketch=new h,this.viewport=this.sketch.viewport,this.scene=this.sketch.scene,this.canvas=this.sketch.canvas,this.setInstance(),this.setMouseControls()}setInstance(){this.instance=new x(50,this.viewport.width/this.viewport.height,.1,100),this.instance.lookAt(new f(0,0,0)),this.instance.position.set(0,0,4),this.scene.add(this.instance)}setOrbitControls(){this.orbitControls=new M(this.instance,this.canvas),this.orbitControls.enableDamping=!0}setMouseControls(){this.mouseControls=new F({viewport:this.viewport,canvas:this.canvas,camera:this.instance})}resize(){this.instance.aspect=this.viewport.width/this.viewport.height,this.instance.updateProjectionMatrix()}update(e,t){this.mouseControls.update(e,t)}}class ${constructor(){this.sketch=new h,this.canvas=this.sketch.canvas,this.viewport=this.sketch.viewport,this.scene=this.sketch.scene,this.camera=this.sketch.camera,this.debug=this.sketch.debug,this.setInstance()}setInstance(){this.instance=new k({canvas:this.canvas,antialias:!1,powerPreference:"high-performance"}),this.instance.setClearColor("#232323"),this.instance.setSize(this.viewport.width,this.viewport.height),this.instance.setPixelRatio(this.viewport.pixelRatio)}resize(){this.instance.setSize(this.viewport.width,this.viewport.height),this.instance.setPixelRatio(this.viewport.pixelRatio)}update(){this.instance.render(this.scene,this.camera.instance)}}let m=null;class C extends d{constructor(){super();if(m)return m;m=this,this.items={},this.toLoad=0,this.loaded=0,this.setLoaders()}setLoaders(){const e=new R;e.setDecoderPath("./draco/");const t=new S;t.setDRACOLoader(e);const i=new I,a=new z;this.loaders={gltfLoader:t,textureLoader:i,rgbeLoader:a}}load(e=[]){this.sources=e,this.toLoad=this.sources.length,this.loaded=0;for(const t of this.sources){if(this.items[t.name]){this.sourceLoaded(t,this.items[t.name]);continue}switch(t.type){case"gltf":{this.loaders.gltfLoader.load(t.path,i=>this.sourceLoaded(t,i));break}case"texture":{this.loaders.textureLoader.load(t.path,i=>this.sourceLoaded(t,i));break}case"rgbe":{this.loaders.rgbeLoader.load(t.path,i=>this.sourceLoaded(t,i));break}}}}sourceLoaded(e,t){t.name=e.name,this.items[e.name]=t,this.loaded++,this.loaded===this.toLoad&&this.emit("ready")}}const s={enableSwoopingCamera:!1,enableRotation:!1,color:16777215,metalness:0,roughness:0,transmission:1,sheen:2,sheenRoughness:.1,sheenColor:16777215,ior:1.8,reflectivity:1,thickness:3,envMapIntensity:3,clearcoat:.18,clearcoatRoughness:.1,normalScale:0,clearcoatNormalScale:3,normalRepeat:3,attenuationTint:16777215,attenuationDistance:0,lightIntensity:5.025,bloomThreshold:.85,bloomStrength:.35,bloomRadius:.33};let r;class H{constructor(){this.sketch=new h,this.scene=this.sketch.scene,this.resources=new C,this.debug=new v,this.setMesh(),this.setMaterial(),this.setBg(),this.setDebug()}setMesh(){this.mesh=this.resources.items.model.scene.children[0],this.mesh.position.set(0,0,0),this.mesh.scale.set(.25,.25,.25),console.log(this.mesh)}setMaterial(){const e=new P(16777215,s.lightIntensity,20);e.position.set(0,-4,6),this.scene.add(e),this.light=e,new O(e,5);const t=this.resources.items.hdr;t.mapping=E,r=this.resources.items.normalMap,r.wrapS=w,r.wrapT=w,r.repeat.set(s.normalRepeat,s.normalRepeat),this.material=new D({color:s.color,metalness:s.metalness,roughness:s.roughness,transmission:s.transmission,sheen:s.sheen,sheenRoughness:s.sheenRoughness,sheenColor:s.sheenColor,ior:s.ior,reflectivity:s.reflectivity,thickness:s.thickness,envMap:t,envMapIntensity:s.envMapIntensity,clearcoat:s.clearcoat,clearcoatRoughness:s.clearcoatRoughness,normalScale:new b(s.normalScale),normalMap:r,clearcoatNormalMap:r,clearcoatNormalScale:new b(s.clearcoatNormalScale),attenuationTint:s.attenuationTint,attenuationDistance:s.attenuationDistance}),this.mesh.castShadow=!0,this.mesh.receiveShadow=!0,this.mesh.material=this.material}setDebug(){!this.debug.active||(this.debug.ui.addColor(s,"color").onChange(e=>{this.material.color.set(e)}),this.debug.ui.add(s,"roughness",0,1,.01).onChange(e=>{this.material.roughness=e}),this.debug.ui.add(s,"metalness",0,1,.01).onChange(e=>{this.material.metalness=e}),this.debug.ui.add(s,"transmission",0,1,.01).onChange(e=>{this.material.transmission=e}),this.debug.ui.add(s,"ior",1,2.33,.01).onChange(e=>{this.material.ior=e}),this.debug.ui.add(s,"reflectivity",0,1,.01).onChange(e=>{this.material.reflectivity=e}),this.debug.ui.add(s,"thickness",0,5,.1).onChange(e=>{this.material.thickness=e}),this.debug.ui.add(s,"envMapIntensity",0,3,.1).onChange(e=>{this.material.envMapIntensity=e}),this.debug.ui.add(s,"clearcoat",0,1,.01).onChange(e=>{this.material.clearcoat=e}),this.debug.ui.add(s,"clearcoatRoughness",0,1,.01).onChange(e=>{this.material.clearcoatRoughness=e}),this.debug.ui.add(s,"normalScale",0,5,.01).onChange(e=>{this.material.normalScale.set(e,e)}),this.debug.ui.add(s,"clearcoatNormalScale",0,5,.01).onChange(e=>{this.material.clearcoatNormalScale.set(e,e)}),this.debug.ui.add(s,"normalRepeat",1,4,1).onChange(e=>{r.repeat.set(e,e)}),this.debug.ui.add(s,"lightIntensity",0,10,.001).onChange(e=>{this.light.intensity=e}),this.debug.ui.add(s,"sheen",0,5,.001).onChange(e=>{this.material.sheen=e}),this.debug.ui.add(s,"sheenRoughness",0,5,.001).onChange(e=>{this.material.sheenRoughness=e}),this.debug.ui.addColor(s,"sheenColor").onChange(e=>{this.material.sheenColor=new T(e)}))}setBg(){const e=new N(80,80,1,1),t=new A({color:2118553}),i=new j(e,t);i.position.z=-5,this.scene.add(i)}}var K="/threejs-rh-text/assets/logo.6f706fca.glb",U="/threejs-rh-text/assets/normal.e1b8ace3.jpg",J="/threejs-rh-text/assets/hdr-2.d72031e2.hdr";const Q=[{type:"gltf",name:"model",path:K},{type:"texture",name:"normalMap",path:U},{type:"rgbe",name:"hdr",path:J}];let p=null;class X{constructor(){if(p)return p;p=this,this.sketch=new h,this.scene=this.sketch.scene,this.resources=new C,this.resources.load(Q),this.resources.on("ready",()=>{this.text=new H,this.scene.add(this.text.mesh)})}update(e){}}let g=null;class h{constructor({canvas:e}={}){if(g)return g;g=this,this.canvas=e,this.debug=new v,this.viewport=new q,this.time=new B,this.scene=new G,this.camera=new V,this.renderer=new $,this.world=new X,this.viewport.on("resize",this.resize.bind(this)),this.time.on("update",this.update.bind(this))}resize(){this.camera.resize(),this.renderer.resize()}update(e,t){this.debug.begin(),this.camera.update(e,t),this.world.update(e),this.renderer.update(),this.debug.end()}}new h({canvas:document.getElementById("scene")});
