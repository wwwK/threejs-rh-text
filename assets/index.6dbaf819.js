import{G as k,S,V as v,P as R,O as z,B as P,C as x,W as O,D,a as I,T,R as E,b as j,M as F,c as A,d as N,E as G,e as y,f as W,g as M,h as C,A as B,i as q,j as H,k as V}from"./vendor.9c5a10a6.js";const $=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function e(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerpolicy&&(n.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?n.credentials="include":i.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(i){if(i.ep)return;i.ep=!0;const n=e(i);fetch(i.href,n)}};$();let u=null;class h{constructor(){if(u)return u;u=this,this.active=window.location.hash==="#debug",this.active&&(this.ui=new k({width:300}),this.stats=new S,this.stats.showPanel(0),document.body.appendChild(this.stats.dom))}begin(){this.stats&&this.stats.begin()}end(){this.stats&&this.stats.end()}}class c{constructor(){this.callbacks={}}on(t,e){typeof e=="function"&&(this.callbacks[t]=[...this.callbacks[t]||[],e])}emit(t,...e){(this.callbacks[t]||[]).forEach(a=>a(...e))}off(t,e){!this.callbacks[t]||(this.callbacks[t]=this.callbacks[t].filter(a=>a!==e))}}let p=null;class L extends c{constructor(){super();if(p)return p;p=this,this.setSizes(),window.addEventListener("resize",()=>{this.setSizes(),this.emit("resize")})}setSizes(){this.width=window.innerWidth,this.height=window.innerHeight,this.pixelRatio=Math.min(window.devicePixelRatio,2)}}class K extends c{constructor({autoStart:t=!0}={}){super();this.current=performance.now(),this.elapsed=0,this.delta=0,this.rafId=0,this.update=this.update.bind(this),t&&this.start()}start(){this.running||(this.running=!0,this.update())}stop(){!this.running||(window.cancelAnimationFrame(this.rafId),this.running=!1)}pause(){this.stop()}resume(){this.current=performance.now(),this.start()}update(){const t=performance.now();this.delta=(t-this.current)/1e3,this.current=t,this.elapsed+=this.delta,this.emit("update",this.elapsed,this.delta),this.rafId=window.requestAnimationFrame(this.update)}}class U{constructor({canvas:t,viewport:e,camera:a}={}){this.canvas=t,this.viewport=e,this.camera=a,this.mouse={x:0,y:0},this.easing=.036,this.handleMove=this.handleMove.bind(this),this.handleOut=this.handleOut.bind(this),this.canvas.addEventListener("pointermove",this.handleMove),this.canvas.addEventListener("pointerout",this.handleOut)}handleMove({clientX:t,clientY:e}){this.mouse.x=2*(2*(t/window.innerWidth)-1),this.mouse.y=2.5*(2*(-e/window.innerHeight)+1)}handleOut(){this.mouse.x=0,this.mouse.y=0}update(){this.camera.position.x+=(this.mouse.x-this.camera.position.x)*this.easing,this.camera.position.y+=(this.mouse.y-this.camera.position.y)*this.easing,this.camera.lookAt(new v(0,0,0))}}class J{constructor(){this.sketch=new d,this.viewport=this.sketch.viewport,this.scene=this.sketch.scene,this.canvas=this.sketch.canvas,this.setInstance(),this.setOrbitControls(),this.setMouseControls()}setInstance(){this.instance=new R(50,this.viewport.width/this.viewport.height,.1,100),this.instance.position.set(0,0,0),this.scene.add(this.instance)}setOrbitControls(){this.orbitControls=new z(this.instance,this.canvas),this.orbitControls.enableDamping=!0}setMouseControls(){this.mouseControls=new U({viewport:this.viewport,canvas:this.canvas,camera:this.instance})}fitTo(t,e=1){let n=new P().setFromObject(t).getSize(new v).x/(2*Math.atan(Math.PI*this.instance.fov/360));n/=this.instance.aspect,n*=e,this.instance.position.z=n}resize(){this.instance.aspect=this.viewport.width/this.viewport.height,this.instance.updateProjectionMatrix()}update(t,e){this.orbitControls.update(),this.mouseControls.update(t,e)}}const m={color:3170209,metalness:0,roughness:1},s={color:2344391,metalness:.05,roughness:0,transmission:1,sheen:2,sheenRoughness:.1,sheenColor:16777215,ior:2.333,reflectivity:1,thickness:3,envMapIntensity:3,clearcoat:1,clearcoatRoughness:.3,normalScale:0,clearcoatNormalScale:0,normalRepeat:3,attenuationTint:16777215,attenuationDistance:0},o={color:new x(16777215),intensity:2.93,x:0,y:-3.8,z:3,distance:11.8};class Q{constructor(){this.sketch=new d,this.canvas=this.sketch.canvas,this.viewport=this.sketch.viewport,this.scene=this.sketch.scene,this.camera=this.sketch.camera,this.debug=this.sketch.debug,this.setInstance()}setInstance(){this.instance=new O({canvas:this.canvas,antialias:!0,alpha:!1,powerPreference:"high-performance"}),this.instance.setClearColor(2302755),this.instance.setSize(this.viewport.width,this.viewport.height),this.instance.setPixelRatio(this.viewport.pixelRatio)}resize(){this.instance.setSize(this.viewport.width,this.viewport.height),this.instance.setPixelRatio(this.viewport.pixelRatio)}update(){this.instance.render(this.scene,this.camera.instance)}}let g=null;class f extends c{constructor(){super();if(g)return g;g=this,this.items={},this.toLoad=0,this.loaded=0,this.setLoaders()}setLoaders(){const t=new D;t.setDecoderPath("./draco/");const e=new I;e.setDRACOLoader(t);const a=new T,i=new E;this.loaders={gltfLoader:e,textureLoader:a,rgbeLoader:i}}load(t=[]){this.sources=t,this.toLoad=this.sources.length,this.loaded=0;for(const e of this.sources){if(this.items[e.name]){this.onSourceLoaded(e,this.items[e.name]);continue}switch(e.type){case"gltf":{this.loaders.gltfLoader.load(e.path,a=>this.onSourceLoaded(e,a));break}case"texture":{this.loaders.textureLoader.load(e.path,a=>this.onSourceLoaded(e,a));break}case"rgbe":{this.loaders.rgbeLoader.load(e.path,a=>this.onSourceLoaded(e,a));break}}}}onSourceLoaded(t,e){e.name=t.name,this.items[t.name]=e,this.loaded++,this.loaded===this.toLoad&&this.emit("ready")}}class X{constructor(){this.resources=new f,this.viewport=new L,this.debug=new h,this.createTexture(),this.setMaterial(),this.setMesh(),this.setDebug()}createTexture(){const t=document.createElement("canvas"),e=1024*this.viewport.pixelRatio,a=1024*this.viewport.pixelRatio;t.width=e,t.height=a;const i=t.getContext("2d"),n=i.createLinearGradient(e/3,a,e,0);n.addColorStop(0,"#FFF"),n.addColorStop(.5,"#305fa1"),i.fillStyle=n,i.fillRect(0,0,e,a),this.texture=new j(t)}setMaterial(){this.material=new F({map:this.texture,metalness:m.metalness,roughness:m.roughness})}setMesh(){this.geometry=new A(50,50,50,50),this.mesh=new N(this.geometry,this.material),this.mesh.position.z=-5}setDebug(){if(!this.debug.active)return;const t=this.debug.ui.addFolder("Background");t.addColor(m,"color").onChange(e=>{this.material.color.set(e)}),t.add(this.material,"metalness",0,1,.001),t.add(this.material,"roughness",0,1,.001)}}class Y{constructor(){this.resources=new f,this.debug=new h,this.setMaterial(),this.setMesh(),this.setDebug()}setMaterial(){const t=this.resources.items.hdr;t.mapping=G;const e=this.resources.items.normalMap;e.wrapS=y,e.wrapT=y,e.repeat.set(s.normalRepeat,s.normalRepeat),this.material=new W({color:s.color,metalness:s.metalness,roughness:s.roughness,transmission:s.transmission,sheen:s.sheen,sheenRoughness:s.sheenRoughness,sheenColor:s.sheenColor,ior:s.ior,reflectivity:s.reflectivity,thickness:s.thickness,envMap:t,envMapIntensity:s.envMapIntensity,clearcoat:s.clearcoat,clearcoatRoughness:s.clearcoatRoughness,normalScale:new M(s.normalScale),normalMap:e,clearcoatNormalMap:e,clearcoatNormalScale:new M(s.clearcoatNormalScale),attenuationDistance:s.attenuationDistance})}setMesh(){this.mesh=this.resources.items.text.scene.children[0],this.mesh.material=this.material}setDebug(){if(!this.debug.active)return;const t=this.debug.ui.addFolder("Text");t.addColor(s,"color").onChange(e=>{this.material.color.set(e)}),t.add(this.material,"roughness",0,1,.01),t.add(this.material,"metalness",0,1,.01),t.add(this.material,"transmission",0,1,.01),t.add(this.material,"ior",1,2.333,.01),t.add(this.material,"reflectivity",0,1,.01),t.add(this.material,"thickness",0,5,.1),t.add(this.material,"envMapIntensity",0,6,.1),t.add(s,"normalScale",0,10,.01).onChange(e=>{this.material.normalScale.set(e,e)}),t.add(s,"normalRepeat",1,5,1).onChange(e=>{this.material.normalMap.repeat.set(e,e)}),t.add(this.material,"clearcoat",0,1,.01),t.add(this.material,"clearcoatRoughness",0,1,.01),t.add(s,"clearcoatNormalScale",0,5,.01).onChange(e=>{this.material.clearcoatNormalScale.set(e,e)}),t.add(this.material,"sheen",0,1,.01),t.add(this.material,"sheenRoughness",0,1,.01),t.addColor(s,"sheenColor").onChange(e=>{this.material.sheenColor=new x(e)})}}class Z{constructor(){this.debug=new h,this.group=new C,this.group.name="light",this.setAmbient(),this.setPoint(),this.setDebug()}setAmbient(){this.ambient=new B(16777215,1),this.group.add(this.ambient)}setPoint(){this.point=new q(16777215,o.intensity,20),this.point.distance=o.distance,this.point.position.set(o.x,o.y,o.z),this.group.add(this.point)}setDebug(){if(!this.debug.active)return;const t=this.debug.ui.addFolder("Light");t.add(this.point,"intensity",0,10),t.add(this.point.position,"x",-5,5,.01),t.add(this.point.position,"y",-5,5,.01),t.add(this.point.position,"z",0,10,.01),t.add(this.point,"distance",0,20,.01),t.add(this.point,"decay",0,1,.001);const e=new H(this.point);this.group.add(e)}}var _="/threejs-rh-text/assets/text.22196f6e.glb",tt="/threejs-rh-text/assets/normal.e1b8ace3.jpg",et="/threejs-rh-text/assets/hdr-2.d72031e2.hdr",st="/threejs-rh-text/assets/bg.5f19b533.jpg";const it=[{type:"gltf",name:"text",path:_},{type:"texture",name:"normalMap",path:tt},{type:"rgbe",name:"hdr",path:et},{type:"texture",name:"bg",path:st}];let w=null;class at extends c{constructor(){super();if(w)return w;w=this,this.sketch=new d,this.resources=new f,this.group=new C,this.group.name="name",this.resources.on("ready",()=>{this.setObjects(),this.emit("ready")}),this.resources.load(it)}setObjects(){this.background=new X,this.text=new Y,this.light=new Z,this.group.add(this.background.mesh,this.text.mesh,this.light.group)}}let b=null;class d{constructor({canvas:t}={}){if(b)return b;b=this,this.canvas=t,this.debug=new h,this.viewport=new L,this.scene=new V,this.camera=new J,this.renderer=new Q,this.world=new at,this.viewport.on("resize",this.resize.bind(this)),this.world.on("ready",()=>{this.scene.add(this.world.group),this.camera.fitTo(this.world.text.mesh),this.viewport.on("resize",()=>{this.camera.fitTo(this.world.text.mesh)}),this.time=new K,this.time.on("update",this.update.bind(this))})}resize(){this.camera.resize(),this.renderer.resize()}update(t,e){this.debug.begin(),this.camera.update(t,e),this.renderer.update(),this.debug.end()}}new d({canvas:document.getElementById("scene")});
